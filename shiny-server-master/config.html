<!DOCTYPE html>

<!-- DO NOT EDIT BY HAND; automatically generated by makedocs.js -->

<html>
<head>
  <title>Shiny Server v0.3.0 Configuration Reference</title>
  <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600,700,400italic,600italic,700italic' rel='stylesheet' type='text/css'>
  <link href='http://fonts.googleapis.com/css?family=Source+Code+Pro' rel='stylesheet' type='text/css'>
  <style type="text/css">
  a {
    color: #44A;
    text-decoration: none;
  }
  label {
    font-weight: 600;
  }

  body {
    font-family: 'Source Sans Pro', sans-serif;
    margin: 0;
    padding: 0;
    color: #222;
    line-height: 1.4em;
  }

  #container {
    max-width: 800px;
    margin: 20px auto 80px auto;
  }

  code, .code {
    font-family: 'Source Sans Pro', sans-serif;
    font-weight: 600;
  }

  pre {
    font-size: 14px;
    border: 1px solid #CCC;
    background-color: #EEE;
    padding: 16px 20px;
  }
  pre code, pre .code {
    font-family: 'Courier New', monospace;
    font-weight: normal;
  }

  h1 {
    margin: 0;
  }
  h2 {
    font-size: 30px;
    margin: 60px 0 20px 0;
  }
  strong {
    font-weight: 600;
  }

  #toc {
    display: inline-block;
    width: auto;
    border: 1px solid #CCC;
    padding: 12px 48px 12px 18px;
    margin-top: 30px;
  }

  #toc h2 {
    font-size: 24px;
    font-weight: 600;
    margin: 4px 0 8px 0;
  }

  #toc ul {
    list-style: square outside;
    margin: 0;
  }

  #deploymodels h3 {
    margin-bottom: 0;
  }
  #deploymodels p {
    margin: 6px 0;
  }

  ul.directives {
    list-style: none;
    padding-left: 0;
  }
  ul.directives li {
    margin: 40px 0 0 0;
  }
  ul.directives h3 {
    color: black;
    font-weight: 600;
    font-size: 26px;
    margin-bottom: 4px;
  }
  ul.directives h3+p {
    margin-top: 0;
  }

  table.params {
    margin-top: 16px;
    border-spacing: 0;
    border-collapse: collapse;
    width: 100%;
  }
  table.params td, table.params th {
    font-size: 14px;
    padding: 3px 12px;
    border: 1px solid #CCC;
  }
  table.params th {
    font-weight: 600;
    text-align: left;
  }
  </style>
</head>
<body>
  <div id="container">
    <h1>Shiny Server Configuration Reference</h1>
    <p>Version 0.3.0</p>

    <div id="toc">
      <h2>Table of Contents</h2>
      <ul>
        <li><a href="#overview">Overview</a></li>
        <li><a href="#examples">Examples</a></li>
        <li>
          <a href="#directives">Directive Reference</a>
          <ul class="code">
            
              <li><a href="#run_as">run_as</a></li>
            
              <li><a href="#access_log">access_log</a></li>
            
              <li><a href="#server">server</a></li>
            
              <li><a href="#listen">listen</a></li>
            
              <li><a href="#server_name">server_name</a></li>
            
              <li><a href="#location">location</a></li>
            
              <li><a href="#site_dir">site_dir</a></li>
            
              <li><a href="#directory_index">directory_index</a></li>
            
              <li><a href="#user_apps">user_apps</a></li>
            
              <li><a href="#app_dir">app_dir</a></li>
            
              <li><a href="#redirect">redirect</a></li>
            
              <li><a href="#log_dir">log_dir</a></li>
            
              <li><a href="#members_of">members_of</a></li>
            
              <li><a href="#google_analytics_id">google_analytics_id</a></li>
            
          </ul>
        </li>
      </ul>
    </div>

<h2><a name="overview"></a>Overview</h2>

<p>By default, Shiny Server will look for a config file at <code>/etc/shiny-server/shiny-server.conf</code>; if no file is found, a default configuration will be used.</p>

<p>You can tell Shiny Server to use a different config file instead, by passing the config file path as an argument to <code>shiny-server</code>.

<p>Shiny Server offers three distinct methods of application deployment:</p>

<ol id="deploymodels">
  <li>
    <h3>Site directory [<code><a href="#site_dir">site_dir</a></code>]</h3>
    <p>Serve up a directory which can contain a combination of static assets (HTML files, images, PDFs, etc.), Shiny applications, and subdirectories.</p>
    <p>
      Any subdirectory that contains a <code>server.R</code> file is assumed to be a Shiny application directory. For example, if <code>/var/shiny-server/www</code> is your root dir and <code>/var/shiny-server/www/sales/historical/server.R</code> exists, then the URL for that application would be <code>http://hostname:port/sales/historical/</code>.
    </p>
  </li>
  <li>
    <h3>Autouser [<code><a href="#user_apps">user_apps</a></code>]</h3>
    <p>Any user with a home directory on the system can deploy applications simply by creating a <code>~/ShinyApps</code> directory and placing their Shiny applications in direct subdirectories.</p>
    <p>
      For example, if <code>/users</code> is configured to be an autouser path, and the user <code>jeffreyhorner</code> creates a folder <code>~/ShinyApps/testapp</code> that contains a <code>server.R</code> and a <code>ui.R</code> file, then browsing to <code>http://hostname/users/jeffreyhorner/testapp/</code> would automatically load that application.
    </p>
  </li>
  <li>
    <h3>Direct mapping [<code><a href="#app_dir">app_dir</a></code>]</h3>
    <p>Explicitly declare one or more applications in the configuration file.</p>
    <p>For each individual application you can specify the URL, application directory path, log directory, and which user to run the application as.</p>
  </li>
</ol>
<p>(A single Shiny Server instance can host all three of the above types of URL paths at the same time; you don't have to restrict yourself to just one. See the fourth example below.)</p>

<h2><a name="examples"></a>Examples</h2>

<p>Here is a minimal configuration file for a server that only does autouser hosting:</p>

<pre><code>server {
  # The TCP/IP port to listen on
  listen 80;

  # Configure the root URL to be autouser
  location / {
    user_apps on;
  }
}
</code></pre>

<p>Here is a minimal configuration file for a server that is backed by a directory that contains a combination of static assets and Shiny applications:</p>

<pre><code># By default, use the 'shiny' user to run the applications; this
# user should have the minimum amount of privileges necessary to
# successfully run the applications (i.e. read-only access to the
# site dir).
run_as shiny;

# The directory where application log files should be written to.
# This directory must exist--it will NOT be automatically created.
log_dir /var/log/shiny-server/apps/;

server {
  listen 80;

  location / {
    site_dir /var/shiny-www;
  }
}
</code></pre>

<p>Here is a simple configuration file for a server that hosts two apps:</p>

<pre><code># By default, use the 'shiny' user to run the applications; this
# user should have the minimum amount of privileges necessary to
# successfully run the applications (i.e. read-only access to the
# Shiny app dirs).
run_as shiny;

# The directory where application log files should be written to.
# This directory must exist--it will NOT be automatically created.
log_dir /var/log/shiny-server/apps/;

server {
  listen 80;

  location /app1 {
    app_dir /var/shiny-apps/app1;
  }

  location /app2 {
    app_dir /var/shiny-apps/app2;
  }
}
</code></pre>

<p>You can have multiple <code>location</code> directives per <code>server</code> block, and they don't need to all be of the same kind; you can easily incorporate all three hosting models in the same server instance.</p>

<pre><code>run_as shiny;
log_dir /var/log/shiny-server/log/;

server {
  listen 80;

  location /users {
    user_apps on;
  }

  location /dashboard {
    app_dir /var/dashboard/shinyapp;
  }

  location / {
    site_dir /var/shiny-server/www;
  }
}
</code></pre>

    <h2><a name="directives"></a>Directive Reference</h2>
    <p>Listed below are all the directives that are supported in Shiny Server config files.</p>
    <p><strong>Applies to</strong> indicates the kind of parent scope that this directive normally appears inside.</p>
    <p><strong>Inheritable</strong> means that you can put this directive at a higher level in the hierarchy and it will be inherited by any children to which it might apply. Inherited directives can be overridden by using the directive again in a child scope.</p>
    <ul class="directives">
      
        <li>
          <h3 class="code"><a name="run_as"></a>run_as</h3>
          <p class="desc">The user the app should be run as. This user should have the minimal amount of privileges necessary to successfully run the application (i.e. read-only access to the Shiny application directory). Note that this directive cannot be used with <a class="code" href="#user_apps">user_apps</a>, as <code>user_apps</code> always run as the user who owns the application.</p>
          
            <table class="params">
              <colgroup>
                <col style="width: 105px"></col>
                <col style="width: 90px"></col>
                <col style="width: 90px"></col>
                <col></col>
                <col style="width: 90px"></col>
              </colgroup>
              <tr>
                <th>Parameter</th>
                <th>Data type</th>
                <th>Type</th>
                <th>Description</th>
                <th>Default</th>
              </tr>
              
                <tr>
                  <td>user</td>
                  <td>String</td>
                  <td>required</td>
                  <td>The username that should be used to run the app</td>
                  <td></td>
                </tr>
              
            </table>
          

          <p>
            <label>Applies to:</label> <code><a href="#location">location</a></code><br/>
            <label>Inheritable:</label> Yes<br/>
            
          </p>
        </li>
      
        <li>
          <h3 class="code"><a name="access_log"></a>access_log</h3>
          <p class="desc">The file path of the HTTP access log.</p>
          
            <table class="params">
              <colgroup>
                <col style="width: 105px"></col>
                <col style="width: 90px"></col>
                <col style="width: 90px"></col>
                <col></col>
                <col style="width: 90px"></col>
              </colgroup>
              <tr>
                <th>Parameter</th>
                <th>Data type</th>
                <th>Type</th>
                <th>Description</th>
                <th>Default</th>
              </tr>
              
                <tr>
                  <td>path</td>
                  <td>String</td>
                  <td>required</td>
                  <td>The file path where the access log should be written</td>
                  <td></td>
                </tr>
              
                <tr>
                  <td>format</td>
                  <td>String</td>
                  <td>optional</td>
                  <td>The log file format; see <a href="http://www.senchalabs.org/connect/logger.html">Connect documentation</a> under "Formats"</td>
                  <td>default</td>
                </tr>
              
            </table>
          

          <p>
            <label>Applies to:</label> Top-level<br/>
            <label>Inheritable:</label> Yes<br/>
            
          </p>
        </li>
      
        <li>
          <h3 class="code"><a name="server"></a>server</h3>
          <p class="desc">Declares an HTTP server. You need one of these for each port/IP address combination this Shiny Server instance should listen on.</p>
          
            <p class="noparams">This directive has no parameters.</p>
          

          <p>
            <label>Applies to:</label> Top-level<br/>
            <label>Inheritable:</label> Yes<br/>
            
              <label>Child directives:</label> <code><a href="#listen">listen</a></code>, <code><a href="#server_name">server_name</a></code>, <code><a href="#location">location</a></code><br/>
            
          </p>
        </li>
      
        <li>
          <h3 class="code"><a name="listen"></a>listen</h3>
          <p class="desc">Directs the enclosing server scope to listen on the specified port/IP address combination.</p>
          
            <table class="params">
              <colgroup>
                <col style="width: 105px"></col>
                <col style="width: 90px"></col>
                <col style="width: 90px"></col>
                <col></col>
                <col style="width: 90px"></col>
              </colgroup>
              <tr>
                <th>Parameter</th>
                <th>Data type</th>
                <th>Type</th>
                <th>Description</th>
                <th>Default</th>
              </tr>
              
                <tr>
                  <td>port</td>
                  <td>Integer</td>
                  <td>required</td>
                  <td>Port to listen on</td>
                  <td></td>
                </tr>
              
                <tr>
                  <td>host</td>
                  <td>String</td>
                  <td>optional</td>
                  <td>IPv4 address to listen on (<code>*</code> or <code>0.0.0.0</code> for all); hostnames are not currently allowed, please use raw IPv4 address only</td>
                  <td>*</td>
                </tr>
              
            </table>
          

          <p>
            <label>Applies to:</label> <code><a href="#server">server</a></code><br/>
            <label>Inheritable:</label> Yes<br/>
            
          </p>
        </li>
      
        <li>
          <h3 class="code"><a name="server_name"></a>server_name</h3>
          <p class="desc">Directs the enclosing server scope to only honor requests that have the given host headers (i.e. virtual hosts).</p>
          
            <table class="params">
              <colgroup>
                <col style="width: 105px"></col>
                <col style="width: 90px"></col>
                <col style="width: 90px"></col>
                <col></col>
                <col style="width: 90px"></col>
              </colgroup>
              <tr>
                <th>Parameter</th>
                <th>Data type</th>
                <th>Type</th>
                <th>Description</th>
                <th>Default</th>
              </tr>
              
                <tr>
                  <td>names</td>
                  <td>String</td>
                  <td>multiple</td>
                  <td>The virtual hostname(s) to bind this server to</td>
                  <td></td>
                </tr>
              
            </table>
          

          <p>
            <label>Applies to:</label> <code><a href="#server">server</a></code><br/>
            <label>Inheritable:</label> Yes<br/>
            
          </p>
        </li>
      
        <li>
          <h3 class="code"><a name="location"></a>location</h3>
          <p class="desc">Creates a scope that configures the given URL as a website (<a class="code" href="#site_dir">site_dir</a>), specific application (<a class="code" href="#app_dir">app_dir</a>), autouser root (<a class="code" href="#user_apps">user_apps</a>), or redirect to a different URL (<a class="code" href="#redirect">redirect</a>).</p>
          
            <table class="params">
              <colgroup>
                <col style="width: 105px"></col>
                <col style="width: 90px"></col>
                <col style="width: 90px"></col>
                <col></col>
                <col style="width: 90px"></col>
              </colgroup>
              <tr>
                <th>Parameter</th>
                <th>Data type</th>
                <th>Type</th>
                <th>Description</th>
                <th>Default</th>
              </tr>
              
                <tr>
                  <td>path</td>
                  <td>String</td>
                  <td>required</td>
                  <td>The request path that this location should match</td>
                  <td></td>
                </tr>
              
            </table>
          

          <p>
            <label>Applies to:</label> <code><a href="#server">server</a></code><br/>
            <label>Inheritable:</label> Yes<br/>
            
              <label>Child directives:</label> <code><a href="#run_as">run_as</a></code>, <code><a href="#site_dir">site_dir</a></code>, <code><a href="#directory_index">directory_index</a></code>, <code><a href="#user_apps">user_apps</a></code>, <code><a href="#app_dir">app_dir</a></code>, <code><a href="#redirect">redirect</a></code>, <code><a href="#log_dir">log_dir</a></code>, <code><a href="#members_of">members_of</a></code>, <code><a href="#google_analytics_id">google_analytics_id</a></code><br/>
            
          </p>
        </li>
      
        <li>
          <h3 class="code"><a name="site_dir"></a>site_dir</h3>
          <p class="desc">Configures the enclosing location scope to be a website that can contain both Shiny applications and unrelated static assets in a single directory tree.</p>
          
            <table class="params">
              <colgroup>
                <col style="width: 105px"></col>
                <col style="width: 90px"></col>
                <col style="width: 90px"></col>
                <col></col>
                <col style="width: 90px"></col>
              </colgroup>
              <tr>
                <th>Parameter</th>
                <th>Data type</th>
                <th>Type</th>
                <th>Description</th>
                <th>Default</th>
              </tr>
              
                <tr>
                  <td>rootPath</td>
                  <td>String</td>
                  <td>required</td>
                  <td>The path to the root directory of the website</td>
                  <td></td>
                </tr>
              
            </table>
          

          <p>
            <label>Applies to:</label> <code><a href="#location">location</a></code><br/>
            <label>Inheritable:</label> Yes<br/>
            
          </p>
        </li>
      
        <li>
          <h3 class="code"><a name="directory_index"></a>directory_index</h3>
          <p class="desc">When enabled, if a directory is requested by the client and an <code>index.html</code> file is not present, a list of the directory contents is created automatically and returned to the client. If this directive is not present in a custom config file, the default behavior is to disable directory indexes. However, it is enabled if no config file is present at all (in other words, the default config file has it enabled).</p>
          
            <table class="params">
              <colgroup>
                <col style="width: 105px"></col>
                <col style="width: 90px"></col>
                <col style="width: 90px"></col>
                <col></col>
                <col style="width: 90px"></col>
              </colgroup>
              <tr>
                <th>Parameter</th>
                <th>Data type</th>
                <th>Type</th>
                <th>Description</th>
                <th>Default</th>
              </tr>
              
                <tr>
                  <td>enabled</td>
                  <td>Boolean</td>
                  <td>required</td>
                  <td>Whether directory contents should automatically displayed</td>
                  <td></td>
                </tr>
              
            </table>
          

          <p>
            <label>Applies to:</label> <code><a href="#location">location</a></code><br/>
            <label>Inheritable:</label> Yes<br/>
            
          </p>
        </li>
      
        <li>
          <h3 class="code"><a name="user_apps"></a>user_apps</h3>
          <p class="desc">Configures the enclosing location scope to be an autouser root, meaning that applications will be served up from users' ~/ShinyApps directories.</p>
          
            <table class="params">
              <colgroup>
                <col style="width: 105px"></col>
                <col style="width: 90px"></col>
                <col style="width: 90px"></col>
                <col></col>
                <col style="width: 90px"></col>
              </colgroup>
              <tr>
                <th>Parameter</th>
                <th>Data type</th>
                <th>Type</th>
                <th>Description</th>
                <th>Default</th>
              </tr>
              
                <tr>
                  <td>enabled</td>
                  <td>Boolean</td>
                  <td>optional</td>
                  <td>Whether this location should serve up all users' ~/ShinyApps directories</td>
                  <td>true</td>
                </tr>
              
            </table>
          

          <p>
            <label>Applies to:</label> <code><a href="#location">location</a></code><br/>
            <label>Inheritable:</label> Yes<br/>
            
          </p>
        </li>
      
        <li>
          <h3 class="code"><a name="app_dir"></a>app_dir</h3>
          <p class="desc">Configures the enclosing location scope to serve up the specified Shiny application.</p>
          
            <table class="params">
              <colgroup>
                <col style="width: 105px"></col>
                <col style="width: 90px"></col>
                <col style="width: 90px"></col>
                <col></col>
                <col style="width: 90px"></col>
              </colgroup>
              <tr>
                <th>Parameter</th>
                <th>Data type</th>
                <th>Type</th>
                <th>Description</th>
                <th>Default</th>
              </tr>
              
                <tr>
                  <td>path</td>
                  <td>String</td>
                  <td>required</td>
                  <td>The path to the Shiny application directory</td>
                  <td></td>
                </tr>
              
            </table>
          

          <p>
            <label>Applies to:</label> <code><a href="#location">location</a></code><br/>
            <label>Inheritable:</label> Yes<br/>
            
          </p>
        </li>
      
        <li>
          <h3 class="code"><a name="redirect"></a>redirect</h3>
          <p class="desc">Configures the enclosing location to redirect all requests to the specified URL.</p>
          
            <table class="params">
              <colgroup>
                <col style="width: 105px"></col>
                <col style="width: 90px"></col>
                <col style="width: 90px"></col>
                <col></col>
                <col style="width: 90px"></col>
              </colgroup>
              <tr>
                <th>Parameter</th>
                <th>Data type</th>
                <th>Type</th>
                <th>Description</th>
                <th>Default</th>
              </tr>
              
                <tr>
                  <td>url</td>
                  <td>String</td>
                  <td>required</td>
                  <td>The URL (or base URL) to redirect to</td>
                  <td></td>
                </tr>
              
                <tr>
                  <td>statusCode</td>
                  <td>Integer</td>
                  <td>optional</td>
                  <td>The status code to send with the response (usually 301 for permanent redirects or 302 for temporary redirects)</td>
                  <td>302</td>
                </tr>
              
                <tr>
                  <td>exact</td>
                  <td>Boolean</td>
                  <td>optional</td>
                  <td>Whether to match on the URL exactly; if false, any subpaths will match as well</td>
                  <td>true</td>
                </tr>
              
            </table>
          

          <p>
            <label>Applies to:</label> <code><a href="#location">location</a></code><br/>
            <label>Inheritable:</label> Yes<br/>
            
          </p>
        </li>
      
        <li>
          <h3 class="code"><a name="log_dir"></a>log_dir</h3>
          <p class="desc">Directs the application to write error logs to the specified directory. Only applies to location scopes that are configured with <a class="code" href="#app_dir">app_dir</a>, as <a class="code" href="#user_apps">user_apps</a> (autouser) always writes error logs to <code>~/ShinyApps/log</code>.</p>
          
            <table class="params">
              <colgroup>
                <col style="width: 105px"></col>
                <col style="width: 90px"></col>
                <col style="width: 90px"></col>
                <col></col>
                <col style="width: 90px"></col>
              </colgroup>
              <tr>
                <th>Parameter</th>
                <th>Data type</th>
                <th>Type</th>
                <th>Description</th>
                <th>Default</th>
              </tr>
              
                <tr>
                  <td>path</td>
                  <td>String</td>
                  <td>required</td>
                  <td>The path to which application log files should be written</td>
                  <td></td>
                </tr>
              
            </table>
          

          <p>
            <label>Applies to:</label> <code><a href="#location">location</a></code><br/>
            <label>Inheritable:</label> Yes<br/>
            
          </p>
        </li>
      
        <li>
          <h3 class="code"><a name="members_of"></a>members_of</h3>
          <p class="desc">Restricts a <a class="code" href="#user_apps">user_apps</a> (autouser) scope to require membership in one or more groups (or, if no arguments are passed, lifts group restrictions from a <a class="code" href="#members_of">members_of</a> directive in a parent scope).</p>
          
            <table class="params">
              <colgroup>
                <col style="width: 105px"></col>
                <col style="width: 90px"></col>
                <col style="width: 90px"></col>
                <col></col>
                <col style="width: 90px"></col>
              </colgroup>
              <tr>
                <th>Parameter</th>
                <th>Data type</th>
                <th>Type</th>
                <th>Description</th>
                <th>Default</th>
              </tr>
              
                <tr>
                  <td>groups</td>
                  <td>String</td>
                  <td>multiple</td>
                  <td>Users must be a member of at least one of these groups in order to deploy applications; if no groups are provided, then all users are allowed</td>
                  <td></td>
                </tr>
              
            </table>
          

          <p>
            <label>Applies to:</label> <code><a href="#location">location</a></code><br/>
            <label>Inheritable:</label> Yes<br/>
            
          </p>
        </li>
      
        <li>
          <h3 class="code"><a name="google_analytics_id"></a>google_analytics_id</h3>
          <p class="desc">Configure Google Analytics tracking code to be inserted in Shiny application pages.</p>
          
            <table class="params">
              <colgroup>
                <col style="width: 105px"></col>
                <col style="width: 90px"></col>
                <col style="width: 90px"></col>
                <col></col>
                <col style="width: 90px"></col>
              </colgroup>
              <tr>
                <th>Parameter</th>
                <th>Data type</th>
                <th>Type</th>
                <th>Description</th>
                <th>Default</th>
              </tr>
              
                <tr>
                  <td>gaid</td>
                  <td>String</td>
                  <td>required</td>
                  <td>The Google tracking ID, for example, UA-18988-1</td>
                  <td></td>
                </tr>
              
            </table>
          

          <p>
            <label>Applies to:</label> <code><a href="#location">location</a></code><br/>
            <label>Inheritable:</label> Yes<br/>
            
          </p>
        </li>
      
    </ul>
  </div>
</body>
</html>
